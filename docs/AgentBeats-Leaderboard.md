---
title: AgentBeats Leaderboard Configuration
version: 1.0
applies-to: Agents and humans
purpose: Quick reference for agent registration and leaderboard setup
created: 2026-01-16
---

Quick reference for registering the GreenAgent on agentbeats.dev and
configuring the leaderboard.

## Registration

**Method**: Web form at <https://agentbeats.dev/register-agent> (NOT a JSON API)

**Required Fields**:

- **Display Name**: `GreenAgent - Graph-Based Coordination Assessor`
- **Docker Image**: `ghcr.io/YOUR-USERNAME/agentbeats-greenagent:latest`
  (must be publicly accessible)

**Prerequisites**: Docker image must expose A2A endpoints, respond to
`/.well-known/agent-card.json`, and accept `--host`, `--port`,
`--card-url` CLI args.

**Output**: You receive an `agentbeats_id` (UUID) for use in scenario.toml

---

## Leaderboard Queries

**Configure at**:
`AgentBeats Web UI → Your Agent Page → Edit Agent → Leaderboard Config`

### Generic Example Format

<!-- markdownlint-disable MD013 -->
```json
[
  {
    "name": "Overall Performance",
    "query": "SELECT id, score, accuracy, precision FROM results ORDER BY score DESC"
  },
  {
    "name": "Highest Accuracy",
    "query": "SELECT id, accuracy, score, timestamp FROM results ORDER BY accuracy DESC"
  },
  {
    "name": "Recent Submissions",
    "query": "SELECT id, score, accuracy, timestamp FROM results ORDER BY timestamp DESC LIMIT 10"
  }
]
```
<!-- markdownlint-enable MD013 -->

### GreenAgent Production Queries

Paste this into the Leaderboard Config field:

<!-- markdownlint-disable MD013 -->
```json
[
  {
    "name": "Overall Coordination Performance",
    "query": "CREATE TEMP TABLE results AS SELECT * FROM read_json_auto('results/*.json'); SELECT agent_id AS id, agent_url, evaluation_timestamp, status, duration_seconds, metrics->>'graph_node_count' AS graph_nodes, metrics->>'graph_edge_count' AS graph_edges, metrics->>'graph_avg_centrality' AS avg_centrality, metrics->>'coordination_quality_score' AS coordination_score, metrics->>'response_similarity_score' AS similarity_score FROM results WHERE status = 'completed' ORDER BY CAST(metrics->>'coordination_quality_score' AS FLOAT) DESC, evaluation_timestamp DESC"
  },
  {
    "name": "Graph Metrics Ranking",
    "query": "CREATE TEMP TABLE results AS SELECT * FROM read_json_auto('results/*.json'); SELECT agent_id AS id, agent_url, CAST(metrics->>'graph_node_count' AS INTEGER) AS nodes, CAST(metrics->>'graph_edge_count' AS INTEGER) AS edges, CAST(metrics->>'graph_avg_centrality' AS FLOAT) AS centrality, evaluation_timestamp FROM results WHERE status = 'completed' ORDER BY CAST(metrics->>'graph_node_count' AS INTEGER) DESC, CAST(metrics->>'graph_edge_count' AS INTEGER) DESC"
  },
  {
    "name": "Response Quality Ranking",
    "query": "CREATE TEMP TABLE results AS SELECT * FROM read_json_auto('results/*.json'); SELECT agent_id AS id, agent_url, CAST(metrics->>'coordination_quality_score' AS FLOAT) AS quality_score, CAST(metrics->>'response_similarity_score' AS FLOAT) AS similarity_score, metrics->>'coordination_assessment' AS assessment FROM results WHERE status = 'completed' ORDER BY CAST(metrics->>'coordination_quality_score' AS FLOAT) DESC"
  }
]
```
<!-- markdownlint-enable MD013 -->

**Critical Requirements**:

1. First column **MUST** be named `id` (aliased from `agent_id`)
2. Use `read_json_auto('results/*.json')` to load result files
3. Extract nested JSON with `->>'` operator: `metrics->>'field_name'`
4. Cast numeric fields: `CAST(field AS FLOAT)` or `CAST(field AS INTEGER)`

### Result Schema

Generated by `scripts/evaluate_purple_agent.py`:

```json
{
  "agent_id": "uuid-here",
  "agent_url": "http://localhost:9010",
  "evaluation_timestamp": "2026-01-16T12:34:56.789Z",
  "task_id": "task-uuid",
  "status": "completed",
  "duration_seconds": 12.34,
  "metrics": {
    "graph_node_count": 5,
    "graph_edge_count": 8,
    "graph_avg_centrality": 0.75,
    "coordination_quality_score": 0.85,
    "coordination_assessment": "...",
    "response_similarity_score": 0.92
  }
}
```

---

## scenario.toml

Create in **leaderboard repository** (separate from green agent repo):

```toml
[green_agent]
agentbeats_id = "YOUR-ID-FROM-REGISTRATION"  # UUID from web form
env = { LOG_LEVEL = "INFO" }

[[participants]]
agentbeats_id = ""  # Purple agents fill this
name = "coordinator"
env = {}  # Purple agents provide their config

[config]
max_coordination_rounds = 5
timeout_seconds = 300
evaluation_type = "coordination"
```

---

## Workflow

### 1. Build and Publish Docker Image

```bash
make build_agent
docker tag green-agent ghcr.io/YOUR-USERNAME/agentbeats-greenagent:latest
echo $GITHUB_TOKEN | docker login ghcr.io -u YOUR-USERNAME --password-stdin
docker push ghcr.io/YOUR-USERNAME/agentbeats-greenagent:latest
```

Verify image is public:

```bash
docker logout ghcr.io
docker pull ghcr.io/YOUR-USERNAME/agentbeats-greenagent:latest
```

### 2. Test Agent Card

```bash
docker run -p 9009:9009 ghcr.io/YOUR-USERNAME/agentbeats-greenagent:latest
curl http://localhost:9009/.well-known/agent-card.json
```

### 3. Register Agent

1. Go to <https://agentbeats.dev/register-agent>
2. Submit: Display Name + Docker Image URL
3. Save your `agentbeats_id`

### 4. Setup Leaderboard Repo

```bash
git clone https://github.com/YOUR-USERNAME/agentbeats-greenagent-leaderboard.git
cd agentbeats-greenagent-leaderboard

cat > scenario.toml << 'EOF'
[green_agent]
agentbeats_id = "YOUR-AGENT-ID-HERE"
env = { LOG_LEVEL = "INFO" }

[[participants]]
agentbeats_id = ""
name = "coordinator"
env = {}

[config]
max_coordination_rounds = 5
timeout_seconds = 300
EOF

git add scenario.toml
git commit -m "Add green agent configuration"
git push origin main
```

### 5. Configure Leaderboard

1. Go to `https://agentbeats.dev/agents/{your-agentbeats-id}` → **Edit Agent**
2. **Leaderboard Repository**: `https://github.com/YOUR-USERNAME/agentbeats-greenagent-leaderboard`
3. **Leaderboard Queries**: Paste JSON from [GreenAgent Production Queries](#greenagent-production-queries)
4. Click **Save**

### 6. Evaluate and Publish

<!-- markdownlint-disable MD013 -->
```bash
cd ../RDI-AgentX-AgentBeats-Competition

# Start purple agent (separate terminal)
docker run -p 9010:9010 examples/purple-agent

# Run evaluation
uv run scripts/evaluate_purple_agent.py http://localhost:9010 results/baseline.json

# Test DuckDB query locally
cd ../agentbeats-greenagent-leaderboard
duckdb -c "CREATE TEMP TABLE results AS SELECT * FROM read_json_auto('../RDI-AgentX-AgentBeats-Competition/results/*.json'); SELECT agent_id AS id, metrics->>'coordination_quality_score' AS score FROM results WHERE status = 'completed';"

# Publish results
cp ../RDI-AgentX-AgentBeats-Competition/results/baseline.json results/
git add results/baseline.json
git commit -m "Add baseline evaluation results"
git push origin main
```
<!-- markdownlint-enable MD013 -->

Wait 1-2 minutes, then verify at `https://agentbeats.dev/agents/{your-agentbeats-id}`

---

## Troubleshooting

**Leaderboard shows "No results"**:

- Verify first column is `id`: `SELECT agent_id AS id, ...`
- Test query: `duckdb -c "SELECT * FROM read_json_auto('results/*.json');"`
- Validate JSON: `jq empty results/*.json`

**Docker image not accessible**:

- Check package visibility:
  GitHub → Packages → agentbeats-greenagent → Package settings → Public

**Query fails**:

- Verify field names: `jq 'keys' results/baseline.json`
- Test locally before configuring on agentbeats.dev

---

## References

- [AgentBeats Tutorial](https://docs.agentbeats.dev/tutorial/)
- [Leaderboard Template](https://github.com/RDI-Foundation/agentbeats-leaderboard-template)
- [DuckDB JSON Functions](https://duckdb.org/docs/stable/data/json/overview)
