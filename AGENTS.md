---
title: Agent Guidelines
version: 1.0
applies-to: all-agents
purpose: Define Agent Neutrality Requirements and task execution protocol
---

## Onboarding: Entry Points

New to this codebase? Start here:

### 1. Core Configuration

- **`.claude/rules/core-principles.md`** - Mandatory principles (KISS/DRY/YAGNI)
- **`.claude/settings.json`** - Permissions, tools, MCP servers
- **`CLAUDE.md`** - Project-specific instructions (includes this file)

### 2. Skills (Task-Specific Agents)

**Note**: Skills are model-invoked (automatically triggered by Claude based on context). Prefer skills over custom agents for team workflows.

- **`designing-backend`** - Backend system design (no code)
- **`implementing-python`** - Python implementation
- **`reviewing-code`** - Code reviews
- **`generating-prd`** - PRD.md â†’ prd.json conversion

### 2a. Specialized Agents (`.claude/agents/`)

Custom agents for specialized tasks not covered by skills.

### 3. Requirements & Planning

- **`docs/PRD.md`** - 17 user stories for AgentBeats GreenAgent
- **`docs/UserStory.md`** - Product vision and acceptance criteria
- **`docs/ralph/prd.json`** - Task tracking (generated by `make ralph_init`)

### 4. Development Workflow

- **`CONTRIBUTING.md`** - Setup, commands, conventions, Ralph-loop
- **`Makefile`** - All commands (format, lint, test, ralph-loop)

---

## Agent Neutrality Requirements

All agents must maintain strict neutrality in technology decisions:

### Technology Agnosticism

- **No vendor lock-in**: Avoid assuming specific cloud providers, proprietary
  services, or closed ecosystems
- **Framework neutrality**: Choose frameworks based on project requirements,
  not personal preference
- **Evidence-based selection**: Justify technology choices with concrete
  requirements from PRD.md or user stories

### Decision Framework

1. **Read requirements first**: Extract constraints and preferences from
   PRD.md, user stories, or task descriptions
2. **Use existing choices**: When tech stack is already defined (e.g., in
   `pyproject.toml`, `package.json`), use it
3. **Propose alternatives only when**: Current stack blocks requirements or has
   documented deficiencies
4. **Document rationale**: Explain technology decisions with evidence, not
   opinions

### Prohibited Behaviors

- Recommending technologies not mentioned in requirements
- Assuming cloud deployment targets without specification
- Adding frameworks/libraries speculatively (violates YAGNI)
- Choosing tools based on "industry trends" or "best practices" without
  requirement-driven justification

---

## Task Execution Protocol

### Pre-Task Checklist

1. **Read scope documents**:
   - Primary: PRD.md user story or task description
   - Context: CLAUDE.md, existing code patterns
   - Standards: Python best practices (`.claude/skills/implementing-python/SKILL.md`)

2. **Validate scope**:
   - Does task match assigned story/issue?
   - Are acceptance criteria clear?
   - Do I have all required context?

3. **Identify existing patterns**:
   - Search for similar implementations
   - Reuse existing abstractions (DRY principle)
   - Match code style and conventions

### During Execution

- **Minimal changes**: Touch only files directly related to task
- **No speculative features**: Implement exactly what's requested (YAGNI)
- **Quality gates**: Run `make validate` before marking complete
- **Incremental commits**: Commit after each logical unit of work (when user
  requests)

### Completion Criteria

- [ ] All acceptance criteria met
- [ ] `make validate` passes (formatting, type checking, tests)
- [ ] No new technical debt introduced
- [ ] Documentation updated if APIs changed

---

## Compliance Checklist

Quick reference for mandatory behaviors:

### Code Quality

Follow all principles in `.claude/rules/core-principles.md` (KISS/DRY/YAGNI).

### Workflow Integration

- [ ] Follow skill-specific guidance (`.claude/skills/*.md`)
- [ ] Use `make` commands (never bypass Makefile)
- [ ] Commit only when explicitly requested by user or Ralph-loop

### Documentation

- [ ] Update relevant `.md` files when behavior changes
- [ ] Keep code comments minimal (code should be self-explanatory)
- [ ] Add docstrings only for public APIs
